app:
  name: "iam"
  version: "1.0.0"
  mode: "production"  # development, production

# 服务器配置
server:
  name: "iam"
  address: "0.0.0.0"
  port: 8080  # 标准端口，方便代理
  port-ssl: 8443
  read-timeout: 60    # 秒
  write-timeout: 60   # 秒
  run-mode: "release"   # Gin 开发模式, 可选值有：debug, release, test

# 数据库配置
database:
  driver: "mysql"
  host: "mysql"
  port: 3306
  username: "iam"
  password: "iam_contracts_pass123"
  dbname: "iam_contracts"
  max-idle-conns: 10
  max-open-conns: 100
  conn-max-lifetime: 3600  # 秒
  log-level: 1 # GORM log level, 1: silent, 2:error, 3:warn, 4:info (生产环境使用 silent)

# Redis 配置
redis:
  host: "redis"
  port: 6379
  password: ""
  db: 1  # 使用专用的数据库索引
  pool-size: 100
  min-idle-conns: 10

# 日志配置
log:
  disable-caller: true
  disable-stacktrace: true
  level: debug
  format: console
  output-paths: [/var/log/iam-contracts/app.log, stdout]

# jwt 配置
jwt:
  secret: ""
  expire: 86400

# cors 配置
cors:
  allowed-origins:
    - "*"
  allowed-methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed-headers:
    - "Content-Type"
    - "Authorization"

# HTTPS 服务器相关配置
tls:
  cert: /etc/iam-contracts/ssl/iam.yangshujie.com.crt
  key: /etc/iam-contracts/ssl/iam.yangshujie.com.key
  strict: false

secure:
  bind-address: 0.0.0.0
  bind-port: 9444
  tls:
    cert-file: /etc/iam-contracts/ssl/iam.yangshujie.com.crt
    private-key-file: /etc/iam-contracts/ssl/iam.yangshujie.com.key
