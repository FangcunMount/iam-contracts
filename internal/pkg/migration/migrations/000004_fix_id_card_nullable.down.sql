-- ============================================================================
-- Migration 000004 Rollback: 恢复身份证号字段为非空
-- ============================================================================
-- 警告: 回滚此迁移前，需要确保所有 NULL 值的 id_card 都已填充或删除
-- ============================================================================

-- 将 NULL 值转换为空字符串（如果需要回滚）
UPDATE `iam_users`
SET `id_card` = ''
WHERE `id_card` IS NULL;

-- 恢复 iam_users 表的 id_card 字段为非空
ALTER TABLE `iam_users`
    MODIFY COLUMN `id_card` VARCHAR(20) NOT NULL COMMENT '身份证号';
