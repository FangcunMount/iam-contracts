# IAM 文档中心

> 🔐 企业级身份与访问管理平台技术文档

---

## 📖 快速导航

```text
                    ┌─────────────────────┐
                    │    系统架构总览      │
                    │   (5分钟了解全貌)    │
                    └─────────┬───────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        │                     │                     │
        ▼                     ▼                     ▼
┌───────────────┐   ┌───────────────┐   ┌───────────────┐
│   认证域       │   │   授权域       │   │   用户域       │
│   (Authn)     │   │   (Authz)     │   │   (UC)        │
└───────────────┘   └───────────────┘   └───────────────┘
        │                     │                     │
        └─────────────────────┴─────────────────────┘
                              │
                              ▼
                    ┌─────────────────────┐
                    │    基础设施实践      │
                    │   (架构模式落地)     │
                    └─────────────────────┘
```

---

## 🗂️ 文档目录

### 00-概览

| 文档 | 说明 | 阅读时间 |
|------|------|---------|
| [系统架构总览](./00-概览/01-系统架构总览.md) | 整体架构、技术栈、设计哲学 | 10 min |
| [核心概念术语](./00-概览/02-核心概念术语.md) | 领域术语表、概念关系图 | 5 min |
| [核心概念术语](./00-概览/03-grpc 服务设计.md) | gRPC 服务的架构设计、安全机制和使用方式 | 5 min |
| [QS 接入 IAM 指南](./00-概览/04-qs接入iam指南.md) | 业务方接入步骤与验收清单 | 8 min |

### 01-认证域 (Authn)

| 文档 | 说明 | 阅读时间 |
|------|------|---------|
| [架构总览](./01-认证域/README.md) | 认证域架构全景图 | 5 min |
| [领域模型设计](./01-认证域/01-领域模型设计.md) | Account、Session 聚合设计 | 10 min |
| [认证流程设计](./01-认证域/02-认证流程设计.md) | 登录、Token、JWKS 流程 | 15 min |
| [安全机制设计](./01-认证域/03-安全机制设计.md) | 加密、防护、密钥管理 | 10 min |

### 02-授权域 (Authz)

| 文档 | 说明 | 阅读时间 |
|------|------|---------|
| [架构总览](./02-授权域/README.md) | 授权域架构全景图 | 5 min |
| [领域模型设计](./02-授权域/01-领域模型设计.md) | Role、Policy、Resource 模型 | 10 min |
| [权限决策流程](./02-授权域/02-权限决策流程.md) | Casbin 集成、决策链 | 12 min |

### 03-用户域 (UC)

| 文档 | 说明 | 阅读时间 |
|------|------|---------|
| [架构总览](./03-用户域/README.md) | 用户域架构全景图 | 5 min |
| [领域模型设计](./03-用户域/01-领域模型设计.md) | User、Child、Guardianship 模型 | 10 min |
| [监护关系设计](./03-用户域/02-监护关系设计.md) | 监护人-儿童业务流程 | 12 min |

### 04-基础设施

| 文档 | 说明 | 阅读时间 |
|------|------|---------|
| [六边形架构实践](./04-基础设施/01-六边形架构实践.md) | Ports & Adapters 落地 | 15 min |
| [CQRS 模式实践](./04-基础设施/02-CQRS模式实践.md) | 命令查询分离实现 | 12 min |

### 05-运维部署

| 文档 | 说明 |
|------|------|
| [运维文档](./ops/README.md) | 部署、迁移、监控 |

---

## 🎯 按角色阅读

### 新成员入门

1. [系统架构总览](./00-概览/01-系统架构总览.md) - 了解系统全貌
2. [核心概念术语](./00-概览/02-核心概念术语.md) - 熟悉领域语言
3. [六边形架构实践](./04-基础设施/01-六边形架构实践.md) - 理解代码组织

### 后端开发者

1. 各模块 README - 了解模块职责
2. 领域模型设计 - 理解核心模型
3. [CQRS 模式实践](./04-基础设施/02-CQRS模式实践.md) - 编码规范

### 业务集成方

1. [认证流程设计](./01-认证域/02-认证流程设计.md) - 登录集成
2. [权限决策流程](./02-授权域/02-权限决策流程.md) - 权限检查
3. JWKS 章节 - Token 本地验证

### 运维工程师

1. [运维文档](./ops/README.md) - 部署方案

---

## 📝 文档规范

本项目文档遵循以下规范：

- **金字塔结构**: 结论先行，逐层深入
- **可视化优先**: Mermaid 图表展示架构和流程
- **代码链接**: 伪代码 + 源码路径引用
- **设计模式**: 标注使用的设计模式和原则

---

## 🔗 外部资源

| 资源 | 链接 |
|------|------|
| API 文档 (Swagger) | `/swagger-ui/` |
| gRPC Proto 定义 | `api/grpc/` |
| REST API 规范 | `api/rest/` |

---

## 🤝 贡献指南

1. 更新代码同时更新相关文档
2. 使用 Markdown，避免重复描述
3. 图表优先，伪代码次之
4. 保持源码链接准确

更多项目信息：

- 仓库：<https://github.com/FangcunMount/iam-contracts>
- 问题反馈：<https://github.com/FangcunMount/iam-contracts/issues>
- 许可证：MIT
